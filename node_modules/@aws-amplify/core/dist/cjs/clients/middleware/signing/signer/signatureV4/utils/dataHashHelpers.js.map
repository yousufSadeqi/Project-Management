{"version":3,"file":"dataHashHelpers.js","sources":["../../../../../../../../src/clients/middleware/signing/signer/signatureV4/utils/dataHashHelpers.ts"],"sourcesContent":["\"use strict\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getHashedDataAsHex = exports.getHashedData = void 0;\n// TODO: V6 update to different crypto dependency?\nconst sha256_js_1 = require(\"@aws-crypto/sha256-js\");\nconst util_hex_encoding_1 = require(\"@smithy/util-hex-encoding\");\n/**\n * Returns the hashed data a `Uint8Array`.\n *\n * @param key `SourceData` to be used as hashing key.\n * @param data Hashable `SourceData`.\n * @returns `Uint8Array` created from the data as input to a hash function.\n */\nconst getHashedData = (key, data) => {\n    const sha256 = new sha256_js_1.Sha256(key ?? undefined);\n    sha256.update(data);\n    // TODO: V6 flip to async digest\n    const hashedData = sha256.digestSync();\n    return hashedData;\n};\nexports.getHashedData = getHashedData;\n/**\n * Returns the hashed data as a hex string.\n *\n * @param key `SourceData` to be used as hashing key.\n * @param data Hashable `SourceData`.\n * @returns String using lowercase hexadecimal characters created from the data as input to a hash function.\n *\n * @internal\n */\nconst getHashedDataAsHex = (key, data) => {\n    const hashedData = (0, exports.getHashedData)(key, data);\n    return (0, util_hex_encoding_1.toHex)(hashedData);\n};\nexports.getHashedDataAsHex = getHashedDataAsHex;\n"],"names":[],"mappings":";;AACA;AACA;AACA,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,YAAY,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;AAC7D,OAAO,CAAC,kBAAkB,GAAG,OAAO,CAAC,aAAa,GAAG,MAAM;AAC3D;AACA,MAAM,WAAW,GAAG,OAAO,CAAC,uBAAuB,CAAC;AACpD,MAAM,mBAAmB,GAAG,OAAO,CAAC,2BAA2B,CAAC;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,aAAa,GAAG,CAAC,GAAG,EAAE,IAAI,KAAK;AACrC,IAAI,MAAM,MAAM,GAAG,IAAI,WAAW,CAAC,MAAM,CAAC,GAAG,IAAI,SAAS,CAAC;AAC3D,IAAI,MAAM,CAAC,MAAM,CAAC,IAAI,CAAC;AACvB;AACA,IAAI,MAAM,UAAU,GAAG,MAAM,CAAC,UAAU,EAAE;AAC1C,IAAI,OAAO,UAAU;AACrB,CAAC;AACD,OAAO,CAAC,aAAa,GAAG,aAAa;AACrC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAM,kBAAkB,GAAG,CAAC,GAAG,EAAE,IAAI,KAAK;AAC1C,IAAI,MAAM,UAAU,GAAG,IAAI,OAAO,CAAC,aAAa,EAAE,GAAG,EAAE,IAAI,CAAC;AAC5D,IAAI,OAAO,IAAI,mBAAmB,CAAC,KAAK,EAAE,UAAU,CAAC;AACrD,CAAC;AACD,OAAO,CAAC,kBAAkB,GAAG,kBAAkB;;"}