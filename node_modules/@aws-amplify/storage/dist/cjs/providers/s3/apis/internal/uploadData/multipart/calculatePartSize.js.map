{"version":3,"file":"calculatePartSize.js","sources":["../../../../../../../../src/providers/s3/apis/internal/uploadData/multipart/calculatePartSize.ts"],"sourcesContent":["\"use strict\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.calculatePartSize = void 0;\nconst constants_1 = require(\"../../../../utils/constants\");\nconst calculatePartSize = (totalSize) => {\n    if (!totalSize) {\n        return constants_1.DEFAULT_PART_SIZE;\n    }\n    let partSize = constants_1.DEFAULT_PART_SIZE;\n    let partsCount = Math.ceil(totalSize / partSize);\n    while (partsCount > constants_1.MAX_PARTS_COUNT) {\n        partSize *= 2;\n        partsCount = Math.ceil(totalSize / partSize);\n    }\n    return partSize;\n};\nexports.calculatePartSize = calculatePartSize;\n"],"names":[],"mappings":";;AACA;AACA;AACA,MAAM,CAAC,cAAc,CAAC,OAAO,EAAE,YAAY,EAAE,EAAE,KAAK,EAAE,IAAI,EAAE,CAAC;AAC7D,OAAO,CAAC,iBAAiB,GAAG,MAAM;AAClC,MAAM,WAAW,GAAG,OAAO,CAAC,6BAA6B,CAAC;AAC1D,MAAM,iBAAiB,GAAG,CAAC,SAAS,KAAK;AACzC,IAAI,IAAI,CAAC,SAAS,EAAE;AACpB,QAAQ,OAAO,WAAW,CAAC,iBAAiB;AAC5C;AACA,IAAI,IAAI,QAAQ,GAAG,WAAW,CAAC,iBAAiB;AAChD,IAAI,IAAI,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;AACpD,IAAI,OAAO,UAAU,GAAG,WAAW,CAAC,eAAe,EAAE;AACrD,QAAQ,QAAQ,IAAI,CAAC;AACrB,QAAQ,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;AACpD;AACA,IAAI,OAAO,QAAQ;AACnB,CAAC;AACD,OAAO,CAAC,iBAAiB,GAAG,iBAAiB;;"}